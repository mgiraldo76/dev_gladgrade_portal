"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/moderation/route";
exports.ids = ["app/api/moderation/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmoderation%2Froute&page=%2Fapi%2Fmoderation%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmoderation%2Froute.ts&appDir=%2FUsers%2Fmiguelgiraldo%2FDEVSPACE%2Fdev_gladgrade_portal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmiguelgiraldo%2FDEVSPACE%2Fdev_gladgrade_portal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmoderation%2Froute&page=%2Fapi%2Fmoderation%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmoderation%2Froute.ts&appDir=%2FUsers%2Fmiguelgiraldo%2FDEVSPACE%2Fdev_gladgrade_portal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmiguelgiraldo%2FDEVSPACE%2Fdev_gladgrade_portal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_miguelgiraldo_DEVSPACE_dev_gladgrade_portal_app_api_moderation_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/moderation/route.ts */ \"(rsc)/./app/api/moderation/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_miguelgiraldo_DEVSPACE_dev_gladgrade_portal_app_api_moderation_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_Users_miguelgiraldo_DEVSPACE_dev_gladgrade_portal_app_api_moderation_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/moderation/route\",\n        pathname: \"/api/moderation\",\n        filename: \"route\",\n        bundlePath: \"app/api/moderation/route\"\n    },\n    resolvedPagePath: \"/Users/miguelgiraldo/DEVSPACE/dev_gladgrade_portal/app/api/moderation/route.ts\",\n    nextConfigOutput,\n    userland: _Users_miguelgiraldo_DEVSPACE_dev_gladgrade_portal_app_api_moderation_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/moderation/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtb2RlcmF0aW9uJTJGcm91dGUmcGFnZT0lMkZhcGklMkZtb2RlcmF0aW9uJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbW9kZXJhdGlvbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1pZ3VlbGdpcmFsZG8lMkZERVZTUEFDRSUyRmRldl9nbGFkZ3JhZGVfcG9ydGFsJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRm1pZ3VlbGdpcmFsZG8lMkZERVZTUEFDRSUyRmRldl9nbGFkZ3JhZGVfcG9ydGFsJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM4QjtBQUMzRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvP2QyM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL21pZ3VlbGdpcmFsZG8vREVWU1BBQ0UvZGV2X2dsYWRncmFkZV9wb3J0YWwvYXBwL2FwaS9tb2RlcmF0aW9uL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9tb2RlcmF0aW9uL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbW9kZXJhdGlvblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbW9kZXJhdGlvbi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9taWd1ZWxnaXJhbGRvL0RFVlNQQUNFL2Rldl9nbGFkZ3JhZGVfcG9ydGFsL2FwcC9hcGkvbW9kZXJhdGlvbi9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvbW9kZXJhdGlvbi9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmoderation%2Froute&page=%2Fapi%2Fmoderation%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmoderation%2Froute.ts&appDir=%2FUsers%2Fmiguelgiraldo%2FDEVSPACE%2Fdev_gladgrade_portal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmiguelgiraldo%2FDEVSPACE%2Fdev_gladgrade_portal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/moderation/route.ts":
/*!*************************************!*\
  !*** ./app/api/moderation/route.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_database_multi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database-multi */ \"(rsc)/./lib/database-multi.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_database_multi__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_database_multi__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// GET /api/moderation - Get content items for moderation\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const contentType = searchParams.get(\"type\") || \"all\";\n        const status = searchParams.get(\"status\") || \"pending\";\n        const page = Number.parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = Number.parseInt(searchParams.get(\"limit\") || \"20\");\n        const search = searchParams.get(\"search\") || \"\";\n        console.log(`üîç Fetching moderation items: type=${contentType}, status=${status}, page=${page}`);\n        const offset = (page - 1) * limit;\n        // Map status names to IDs\n        const statusMap = {\n            pending: 1,\n            approved: 2,\n            flagged: 3,\n            deleted: 4,\n            rejected: 5\n        };\n        const statusId = status === \"all\" ? null : statusMap[status] || 1;\n        // Build the query directly - using proper schema.table syntax\n        let items = [];\n        if (contentType === \"all\" || contentType === \"image\") {\n            const imageQuery = `\n        SELECT \n          'image' as content_type,\n          i.id,\n          i.imageurl as content,\n          i.datecreated as created_at,\n          COALESCE(i.moderation_status_id, 1) as moderation_status_id,\n          i.moderated_by_employee_id,\n          i.moderation_notes,\n          i.moderated_at,\n          COALESCE(u.firstname || ' ' || u.lastname, 'Unknown User') as user_name,\n          COALESCE(b.businessname, 'Unknown Business') as business_name,\n          (SELECT placeId FROM consumerRatings WHERE id = i.consumerRatingId LIMIT 1) as placeid,\n          NULL as message_category_id\n        FROM imageURLs i\n        LEFT JOIN users u ON i.userid = u.id\n        LEFT JOIN consumerRatings cr ON i.consumerRatingId = cr.id\n        LEFT JOIN businesses b ON cr.placeId = b.placeid\n        WHERE ($1::int IS NULL OR COALESCE(i.moderation_status_id, 1) = $1)\n        AND ($2::text = '' OR i.imageurl ILIKE $2 OR u.firstname ILIKE $2 OR u.lastname ILIKE $2 OR b.businessname ILIKE $2)\n        ORDER BY i.datecreated DESC\n        LIMIT $3 OFFSET $4\n      `;\n            const searchPattern = search ? `%${search}%` : \"\";\n            const imageResult = await _lib_database_multi__WEBPACK_IMPORTED_MODULE_1__.ggDB.query(imageQuery, [\n                statusId,\n                searchPattern,\n                limit,\n                offset\n            ]);\n            items = items.concat(imageResult.rows);\n        }\n        if (contentType === \"all\" || contentType === \"review\") {\n            const reviewQuery = `\n        SELECT \n          'review' as content_type,\n          r.id,\n          r.review as content,\n          r.datecreated as created_at,\n          COALESCE(r.moderation_status_id, 1) as moderation_status_id,\n          r.moderated_by_employee_id,\n          r.moderation_notes,\n          r.moderated_at,\n          COALESCE(u.firstname || ' ' || u.lastname, 'Unknown User') as user_name,\n          COALESCE(b.businessname, 'Unknown Business') as business_name,\n          r.placeid,\n          NULL as message_category_id\n        FROM consumerReviews r\n        LEFT JOIN users u ON r.userid = u.id\n        LEFT JOIN businesses b ON r.placeid = b.placeid\n        WHERE ($1::int IS NULL OR COALESCE(r.moderation_status_id, 1) = $1)\n        AND ($2::text = '' OR r.review ILIKE $2 OR u.firstname ILIKE $2 OR u.lastname ILIKE $2 OR b.businessname ILIKE $2)\n        ORDER BY r.datecreated DESC\n        LIMIT $3 OFFSET $4\n      `;\n            const searchPattern = search ? `%${search}%` : \"\";\n            const reviewResult = await _lib_database_multi__WEBPACK_IMPORTED_MODULE_1__.ggDB.query(reviewQuery, [\n                statusId,\n                searchPattern,\n                limit,\n                offset\n            ]);\n            items = items.concat(reviewResult.rows);\n        }\n        if (contentType === \"all\" || contentType === \"ad\") {\n            const adQuery = `\n        SELECT \n          'ad' as content_type,\n          a.id,\n          a.imageurl as content,\n          a.datecreated as created_at,\n          COALESCE(a.moderation_status_id, 1) as moderation_status_id,\n          a.moderated_by_employee_id,\n          a.moderation_notes,\n          a.moderated_at,\n          COALESCE(u.firstname || ' ' || u.lastname, 'Unknown User') as user_name,\n          COALESCE(b.businessname, 'Unknown Business') as business_name,\n          b.placeid,\n          NULL as message_category_id\n        FROM ads a\n        LEFT JOIN users u ON a.userid = u.id\n        LEFT JOIN businesses b ON a.businessid = b.id\n        WHERE ($1::int IS NULL OR COALESCE(a.moderation_status_id, 1) = $1)\n        AND ($2::text = '' OR a.imageurl ILIKE $2 OR u.firstname ILIKE $2 OR u.lastname ILIKE $2 OR b.businessname ILIKE $2)\n        ORDER BY a.datecreated DESC\n        LIMIT $3 OFFSET $4\n      `;\n            const searchPattern = search ? `%${search}%` : \"\";\n            const adResult = await _lib_database_multi__WEBPACK_IMPORTED_MODULE_1__.ggDB.query(adQuery, [\n                statusId,\n                searchPattern,\n                limit,\n                offset\n            ]);\n            items = items.concat(adResult.rows);\n        }\n        if (contentType === \"all\" || contentType === \"communication\") {\n            const commQuery = `\n        SELECT \n          'communication' as content_type,\n          c.id,\n          COALESCE(c.message_from_client, c.message_from_user, 'No message content') as content,\n          c.created_at,\n          COALESCE(c.moderation_status_id, 1) as moderation_status_id,\n          c.moderated_by_employee_id,\n          c.moderation_notes,\n          c.moderated_at,\n          CASE \n            WHEN c.message_from_client IS NOT NULL THEN COALESCE(client_u.firstname || ' ' || client_u.lastname, 'Unknown Client')\n            ELSE COALESCE(user_u.firstname || ' ' || user_u.lastname, 'Unknown User')\n          END as user_name,\n          COALESCE(b.businessname, 'Unknown Business') as business_name,\n          b.placeid,\n          c.message_category_id\n        FROM client_user_communications c\n        LEFT JOIN users client_u ON c.client_id = client_u.id\n        LEFT JOIN users user_u ON c.user_id = user_u.id\n        LEFT JOIN businesses b ON c.business_id = b.id\n        WHERE ($1::int IS NULL OR COALESCE(c.moderation_status_id, 1) = $1)\n        AND ($2::text = '' OR c.message_from_client ILIKE $2 OR c.message_from_user ILIKE $2)\n        ORDER BY c.created_at DESC\n        LIMIT $3 OFFSET $4\n      `;\n            const searchPattern = search ? `%${search}%` : \"\";\n            const commResult = await _lib_database_multi__WEBPACK_IMPORTED_MODULE_1__.ggDB.query(commQuery, [\n                statusId,\n                searchPattern,\n                limit,\n                offset\n            ]);\n            items = items.concat(commResult.rows);\n        }\n        // Sort all items by created_at\n        items.sort((a, b)=>new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n        // Add status names\n        const statusNames = {\n            1: \"pending\",\n            2: \"approved\",\n            3: \"flagged\",\n            4: \"deleted\",\n            5: \"rejected\"\n        };\n        items = items.map((item)=>({\n                ...item,\n                moderation_status: statusNames[item.moderation_status_id] || \"pending\"\n            }));\n        // Get total count for pagination\n        let totalCount = 0;\n        if (contentType === \"all\") {\n            const countQueries = [\n                `SELECT COUNT(*) as count FROM imageURLs WHERE ($1::int IS NULL OR COALESCE(moderation_status_id, 1) = $1)`,\n                `SELECT COUNT(*) as count FROM consumerReviews WHERE ($1::int IS NULL OR COALESCE(moderation_status_id, 1) = $1)`,\n                `SELECT COUNT(*) as count FROM ads WHERE ($1::int IS NULL OR COALESCE(moderation_status_id, 1) = $1)`,\n                `SELECT COUNT(*) as count FROM client_user_communications WHERE ($1::int IS NULL OR COALESCE(moderation_status_id, 1) = $1)`\n            ];\n            for (const query of countQueries){\n                const result = await _lib_database_multi__WEBPACK_IMPORTED_MODULE_1__.ggDB.query(query, [\n                    statusId\n                ]);\n                totalCount += Number.parseInt(result.rows[0]?.count || \"0\");\n            }\n        } else {\n            let tableName = \"\";\n            switch(contentType){\n                case \"image\":\n                    tableName = \"imageURLs\";\n                    break;\n                case \"review\":\n                    tableName = \"consumerReviews\";\n                    break;\n                case \"ad\":\n                    tableName = \"ads\";\n                    break;\n                case \"communication\":\n                    tableName = \"client_user_communications\";\n                    break;\n            }\n            if (tableName) {\n                const countResult = await _lib_database_multi__WEBPACK_IMPORTED_MODULE_1__.ggDB.query(`SELECT COUNT(*) as count FROM ${tableName} WHERE ($1::int IS NULL OR COALESCE(moderation_status_id, 1) = $1)`, [\n                    statusId\n                ]);\n                totalCount = Number.parseInt(countResult.rows[0]?.count || \"0\");\n            }\n        }\n        console.log(`‚úÖ Found ${items.length} moderation items (${totalCount} total)`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: items,\n            pagination: {\n                page,\n                limit,\n                total: totalCount,\n                totalPages: Math.ceil(totalCount / limit)\n            }\n        });\n    } catch (error) {\n        console.error(\"‚ùå Error fetching moderation items:\", error);\n        const errorMessage = error instanceof Error ? error.message : \"Unknown error occurred\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to fetch moderation items\",\n            details: errorMessage\n        }, {\n            status: 500\n        });\n    }\n}\n// POST /api/moderation - Moderate content items (individual or bulk)\nasync function POST(request) {\n    try {\n        const { items, action, notes, moderator_id } = await request.json();\n        if (!items || !Array.isArray(items) || items.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Items array is required\"\n            }, {\n                status: 400\n            });\n        }\n        if (!action || ![\n            \"approve\",\n            \"reject\",\n            \"flag\",\n            \"delete\"\n        ].includes(action)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Valid action is required (approve, reject, flag, delete)\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(`üî® Moderating ${items.length} items with action: ${action}`);\n        const statusMap = {\n            approve: 2,\n            reject: 5,\n            flag: 3,\n            delete: 4\n        };\n        const newStatusId = statusMap[action];\n        const moderatedAt = new Date().toISOString();\n        const client = await _lib_database_multi__WEBPACK_IMPORTED_MODULE_1__.ggDB.getClient();\n        try {\n            await client.query(\"BEGIN\");\n            const results = [];\n            for (const item of items){\n                const { content_type, id } = item;\n                const itemNotes = item.notes || notes || \"\";\n                let tableName = \"\";\n                switch(content_type){\n                    case \"image\":\n                        tableName = \"imageURLs\";\n                        break;\n                    case \"review\":\n                        tableName = \"consumerReviews\";\n                        break;\n                    case \"ad\":\n                        tableName = \"ads\";\n                        break;\n                    case \"communication\":\n                        tableName = \"client_user_communications\";\n                        break;\n                    default:\n                        throw new Error(`Invalid content type: ${content_type}`);\n                }\n                // Update moderation status\n                const updateQuery = `\n          UPDATE ${tableName}\n          SET \n            moderation_status_id = $1,\n            moderated_by_employee_id = $2,\n            moderation_notes = $3,\n            moderated_at = $4\n          WHERE id = $5\n          RETURNING id\n        `;\n                const updateResult = await client.query(updateQuery, [\n                    newStatusId,\n                    moderator_id || null,\n                    itemNotes,\n                    moderatedAt,\n                    id\n                ]);\n                if (updateResult.rows.length > 0) {\n                    results.push({\n                        content_type,\n                        id,\n                        action,\n                        success: true\n                    });\n                } else {\n                    results.push({\n                        content_type,\n                        id,\n                        action,\n                        success: false,\n                        error: \"Item not found\"\n                    });\n                }\n            }\n            await client.query(\"COMMIT\");\n            const successCount = results.filter((r)=>r.success).length;\n            console.log(`‚úÖ Successfully moderated ${successCount}/${items.length} items`);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: `Successfully ${action}ed ${successCount} items`,\n                results\n            });\n        } catch (error) {\n            await client.query(\"ROLLBACK\");\n            throw error;\n        } finally{\n            client.release();\n        }\n    } catch (error) {\n        console.error(\"‚ùå Error moderating content:\", error);\n        const errorMessage = error instanceof Error ? error.message : \"Unknown error occurred\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to moderate content\",\n            details: errorMessage\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZQSxDQUFDd0QsSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RPLE9BQU87WUFDUEksU0FBU0g7UUFDWCxHQUNBO1lBQUV4RCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9hcHAvYXBpL21vZGVyYXRpb24vcm91dGUudHM/MjZlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIlxuaW1wb3J0IHsgZ2dEQiB9IGZyb20gXCJAL2xpYi9kYXRhYmFzZS1tdWx0aVwiXG5cbi8vIEdFVCAvYXBpL21vZGVyYXRpb24gLSBHZXQgY29udGVudCBpdGVtcyBmb3IgbW9kZXJhdGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gc2VhcmNoUGFyYW1zLmdldChcInR5cGVcIikgfHwgXCJhbGxcIlxuICAgIGNvbnN0IHN0YXR1cyA9IHNlYXJjaFBhcmFtcy5nZXQoXCJzdGF0dXNcIikgfHwgXCJwZW5kaW5nXCJcbiAgICBjb25zdCBwYWdlID0gTnVtYmVyLnBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoXCJwYWdlXCIpIHx8IFwiMVwiKVxuICAgIGNvbnN0IGxpbWl0ID0gTnVtYmVyLnBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoXCJsaW1pdFwiKSB8fCBcIjIwXCIpXG4gICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoUGFyYW1zLmdldChcInNlYXJjaFwiKSB8fCBcIlwiXG5cbiAgICBjb25zb2xlLmxvZyhg8J+UjSBGZXRjaGluZyBtb2RlcmF0aW9uIGl0ZW1zOiB0eXBlPSR7Y29udGVudFR5cGV9LCBzdGF0dXM9JHtzdGF0dXN9LCBwYWdlPSR7cGFnZX1gKVxuXG4gICAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0XG5cbiAgICAvLyBNYXAgc3RhdHVzIG5hbWVzIHRvIElEc1xuICAgIGNvbnN0IHN0YXR1c01hcDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHtcbiAgICAgIHBlbmRpbmc6IDEsXG4gICAgICBhcHByb3ZlZDogMixcbiAgICAgIGZsYWdnZWQ6IDMsXG4gICAgICBkZWxldGVkOiA0LFxuICAgICAgcmVqZWN0ZWQ6IDUsXG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHVzSWQgPSBzdGF0dXMgPT09IFwiYWxsXCIgPyBudWxsIDogc3RhdHVzTWFwW3N0YXR1c10gfHwgMVxuXG4gICAgLy8gQnVpbGQgdGhlIHF1ZXJ5IGRpcmVjdGx5IC0gdXNpbmcgcHJvcGVyIHNjaGVtYS50YWJsZSBzeW50YXhcbiAgICBsZXQgaXRlbXM6IGFueVtdID0gW11cblxuICAgIGlmIChjb250ZW50VHlwZSA9PT0gXCJhbGxcIiB8fCBjb250ZW50VHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICBjb25zdCBpbWFnZVF1ZXJ5ID0gYFxuICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgJ2ltYWdlJyBhcyBjb250ZW50X3R5cGUsXG4gICAgICAgICAgaS5pZCxcbiAgICAgICAgICBpLmltYWdldXJsIGFzIGNvbnRlbnQsXG4gICAgICAgICAgaS5kYXRlY3JlYXRlZCBhcyBjcmVhdGVkX2F0LFxuICAgICAgICAgIENPQUxFU0NFKGkubW9kZXJhdGlvbl9zdGF0dXNfaWQsIDEpIGFzIG1vZGVyYXRpb25fc3RhdHVzX2lkLFxuICAgICAgICAgIGkubW9kZXJhdGVkX2J5X2VtcGxveWVlX2lkLFxuICAgICAgICAgIGkubW9kZXJhdGlvbl9ub3RlcyxcbiAgICAgICAgICBpLm1vZGVyYXRlZF9hdCxcbiAgICAgICAgICBDT0FMRVNDRSh1LmZpcnN0bmFtZSB8fCAnICcgfHwgdS5sYXN0bmFtZSwgJ1Vua25vd24gVXNlcicpIGFzIHVzZXJfbmFtZSxcbiAgICAgICAgICBDT0FMRVNDRShiLmJ1c2luZXNzbmFtZSwgJ1Vua25vd24gQnVzaW5lc3MnKSBhcyBidXNpbmVzc19uYW1lLFxuICAgICAgICAgIChTRUxFQ1QgcGxhY2VJZCBGUk9NIGNvbnN1bWVyUmF0aW5ncyBXSEVSRSBpZCA9IGkuY29uc3VtZXJSYXRpbmdJZCBMSU1JVCAxKSBhcyBwbGFjZWlkLFxuICAgICAgICAgIE5VTEwgYXMgbWVzc2FnZV9jYXRlZ29yeV9pZFxuICAgICAgICBGUk9NIGltYWdlVVJMcyBpXG4gICAgICAgIExFRlQgSk9JTiB1c2VycyB1IE9OIGkudXNlcmlkID0gdS5pZFxuICAgICAgICBMRUZUIEpPSU4gY29uc3VtZXJSYXRpbmdzIGNyIE9OIGkuY29uc3VtZXJSYXRpbmdJZCA9IGNyLmlkXG4gICAgICAgIExFRlQgSk9JTiBidXNpbmVzc2VzIGIgT04gY3IucGxhY2VJZCA9IGIucGxhY2VpZFxuICAgICAgICBXSEVSRSAoJDE6OmludCBJUyBOVUxMIE9SIENPQUxFU0NFKGkubW9kZXJhdGlvbl9zdGF0dXNfaWQsIDEpID0gJDEpXG4gICAgICAgIEFORCAoJDI6OnRleHQgPSAnJyBPUiBpLmltYWdldXJsIElMSUtFICQyIE9SIHUuZmlyc3RuYW1lIElMSUtFICQyIE9SIHUubGFzdG5hbWUgSUxJS0UgJDIgT1IgYi5idXNpbmVzc25hbWUgSUxJS0UgJDIpXG4gICAgICAgIE9SREVSIEJZIGkuZGF0ZWNyZWF0ZWQgREVTQ1xuICAgICAgICBMSU1JVCAkMyBPRkZTRVQgJDRcbiAgICAgIGBcblxuICAgICAgY29uc3Qgc2VhcmNoUGF0dGVybiA9IHNlYXJjaCA/IGAlJHtzZWFyY2h9JWAgOiBcIlwiXG4gICAgICBjb25zdCBpbWFnZVJlc3VsdCA9IGF3YWl0IGdnREIucXVlcnkoaW1hZ2VRdWVyeSwgW3N0YXR1c0lkLCBzZWFyY2hQYXR0ZXJuLCBsaW1pdCwgb2Zmc2V0XSlcbiAgICAgIGl0ZW1zID0gaXRlbXMuY29uY2F0KGltYWdlUmVzdWx0LnJvd3MpXG4gICAgfVxuXG4gICAgaWYgKGNvbnRlbnRUeXBlID09PSBcImFsbFwiIHx8IGNvbnRlbnRUeXBlID09PSBcInJldmlld1wiKSB7XG4gICAgICBjb25zdCByZXZpZXdRdWVyeSA9IGBcbiAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICdyZXZpZXcnIGFzIGNvbnRlbnRfdHlwZSxcbiAgICAgICAgICByLmlkLFxuICAgICAgICAgIHIucmV2aWV3IGFzIGNvbnRlbnQsXG4gICAgICAgICAgci5kYXRlY3JlYXRlZCBhcyBjcmVhdGVkX2F0LFxuICAgICAgICAgIENPQUxFU0NFKHIubW9kZXJhdGlvbl9zdGF0dXNfaWQsIDEpIGFzIG1vZGVyYXRpb25fc3RhdHVzX2lkLFxuICAgICAgICAgIHIubW9kZXJhdGVkX2J5X2VtcGxveWVlX2lkLFxuICAgICAgICAgIHIubW9kZXJhdGlvbl9ub3RlcyxcbiAgICAgICAgICByLm1vZGVyYXRlZF9hdCxcbiAgICAgICAgICBDT0FMRVNDRSh1LmZpcnN0bmFtZSB8fCAnICcgfHwgdS5sYXN0bmFtZSwgJ1Vua25vd24gVXNlcicpIGFzIHVzZXJfbmFtZSxcbiAgICAgICAgICBDT0FMRVNDRShiLmJ1c2luZXNzbmFtZSwgJ1Vua25vd24gQnVzaW5lc3MnKSBhcyBidXNpbmVzc19uYW1lLFxuICAgICAgICAgIHIucGxhY2VpZCxcbiAgICAgICAgICBOVUxMIGFzIG1lc3NhZ2VfY2F0ZWdvcnlfaWRcbiAgICAgICAgRlJPTSBjb25zdW1lclJldmlld3MgclxuICAgICAgICBMRUZUIEpPSU4gdXNlcnMgdSBPTiByLnVzZXJpZCA9IHUuaWRcbiAgICAgICAgTEVGVCBKT0lOIGJ1c2luZXNzZXMgYiBPTiByLnBsYWNlaWQgPSBiLnBsYWNlaWRcbiAgICAgICAgV0hFUkUgKCQxOjppbnQgSVMgTlVMTCBPUiBDT0FMRVNDRShyLm1vZGVyYXRpb25fc3RhdHVzX2lkLCAxKSA9ICQxKVxuICAgICAgICBBTkQgKCQyOjp0ZXh0ID0gJycgT1Igci5yZXZpZXcgSUxJS0UgJDIgT1IgdS5maXJzdG5hbWUgSUxJS0UgJDIgT1IgdS5sYXN0bmFtZSBJTElLRSAkMiBPUiBiLmJ1c2luZXNzbmFtZSBJTElLRSAkMilcbiAgICAgICAgT1JERVIgQlkgci5kYXRlY3JlYXRlZCBERVNDXG4gICAgICAgIExJTUlUICQzIE9GRlNFVCAkNFxuICAgICAgYFxuXG4gICAgICBjb25zdCBzZWFyY2hQYXR0ZXJuID0gc2VhcmNoID8gYCUke3NlYXJjaH0lYCA6IFwiXCJcbiAgICAgIGNvbnN0IHJldmlld1Jlc3VsdCA9IGF3YWl0IGdnREIucXVlcnkocmV2aWV3UXVlcnksIFtzdGF0dXNJZCwgc2VhcmNoUGF0dGVybiwgbGltaXQsIG9mZnNldF0pXG4gICAgICBpdGVtcyA9IGl0ZW1zLmNvbmNhdChyZXZpZXdSZXN1bHQucm93cylcbiAgICB9XG5cbiAgICBpZiAoY29udGVudFR5cGUgPT09IFwiYWxsXCIgfHwgY29udGVudFR5cGUgPT09IFwiYWRcIikge1xuICAgICAgY29uc3QgYWRRdWVyeSA9IGBcbiAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICdhZCcgYXMgY29udGVudF90eXBlLFxuICAgICAgICAgIGEuaWQsXG4gICAgICAgICAgYS5pbWFnZXVybCBhcyBjb250ZW50LFxuICAgICAgICAgIGEuZGF0ZWNyZWF0ZWQgYXMgY3JlYXRlZF9hdCxcbiAgICAgICAgICBDT0FMRVNDRShhLm1vZGVyYXRpb25fc3RhdHVzX2lkLCAxKSBhcyBtb2RlcmF0aW9uX3N0YXR1c19pZCxcbiAgICAgICAgICBhLm1vZGVyYXRlZF9ieV9lbXBsb3llZV9pZCxcbiAgICAgICAgICBhLm1vZGVyYXRpb25fbm90ZXMsXG4gICAgICAgICAgYS5tb2RlcmF0ZWRfYXQsXG4gICAgICAgICAgQ09BTEVTQ0UodS5maXJzdG5hbWUgfHwgJyAnIHx8IHUubGFzdG5hbWUsICdVbmtub3duIFVzZXInKSBhcyB1c2VyX25hbWUsXG4gICAgICAgICAgQ09BTEVTQ0UoYi5idXNpbmVzc25hbWUsICdVbmtub3duIEJ1c2luZXNzJykgYXMgYnVzaW5lc3NfbmFtZSxcbiAgICAgICAgICBiLnBsYWNlaWQsXG4gICAgICAgICAgTlVMTCBhcyBtZXNzYWdlX2NhdGVnb3J5X2lkXG4gICAgICAgIEZST00gYWRzIGFcbiAgICAgICAgTEVGVCBKT0lOIHVzZXJzIHUgT04gYS51c2VyaWQgPSB1LmlkXG4gICAgICAgIExFRlQgSk9JTiBidXNpbmVzc2VzIGIgT04gYS5idXNpbmVzc2lkID0gYi5pZFxuICAgICAgICBXSEVSRSAoJDE6OmludCBJUyBOVUxMIE9SIENPQUxFU0NFKGEubW9kZXJhdGlvbl9zdGF0dXNfaWQsIDEpID0gJDEpXG4gICAgICAgIEFORCAoJDI6OnRleHQgPSAnJyBPUiBhLmltYWdldXJsIElMSUtFICQyIE9SIHUuZmlyc3RuYW1lIElMSUtFICQyIE9SIHUubGFzdG5hbWUgSUxJS0UgJDIgT1IgYi5idXNpbmVzc25hbWUgSUxJS0UgJDIpXG4gICAgICAgIE9SREVSIEJZIGEuZGF0ZWNyZWF0ZWQgREVTQ1xuICAgICAgICBMSU1JVCAkMyBPRkZTRVQgJDRcbiAgICAgIGBcblxuICAgICAgY29uc3Qgc2VhcmNoUGF0dGVybiA9IHNlYXJjaCA/IGAlJHtzZWFyY2h9JWAgOiBcIlwiXG4gICAgICBjb25zdCBhZFJlc3VsdCA9IGF3YWl0IGdnREIucXVlcnkoYWRRdWVyeSwgW3N0YXR1c0lkLCBzZWFyY2hQYXR0ZXJuLCBsaW1pdCwgb2Zmc2V0XSlcbiAgICAgIGl0ZW1zID0gaXRlbXMuY29uY2F0KGFkUmVzdWx0LnJvd3MpXG4gICAgfVxuXG4gICAgaWYgKGNvbnRlbnRUeXBlID09PSBcImFsbFwiIHx8IGNvbnRlbnRUeXBlID09PSBcImNvbW11bmljYXRpb25cIikge1xuICAgICAgY29uc3QgY29tbVF1ZXJ5ID0gYFxuICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgJ2NvbW11bmljYXRpb24nIGFzIGNvbnRlbnRfdHlwZSxcbiAgICAgICAgICBjLmlkLFxuICAgICAgICAgIENPQUxFU0NFKGMubWVzc2FnZV9mcm9tX2NsaWVudCwgYy5tZXNzYWdlX2Zyb21fdXNlciwgJ05vIG1lc3NhZ2UgY29udGVudCcpIGFzIGNvbnRlbnQsXG4gICAgICAgICAgYy5jcmVhdGVkX2F0LFxuICAgICAgICAgIENPQUxFU0NFKGMubW9kZXJhdGlvbl9zdGF0dXNfaWQsIDEpIGFzIG1vZGVyYXRpb25fc3RhdHVzX2lkLFxuICAgICAgICAgIGMubW9kZXJhdGVkX2J5X2VtcGxveWVlX2lkLFxuICAgICAgICAgIGMubW9kZXJhdGlvbl9ub3RlcyxcbiAgICAgICAgICBjLm1vZGVyYXRlZF9hdCxcbiAgICAgICAgICBDQVNFIFxuICAgICAgICAgICAgV0hFTiBjLm1lc3NhZ2VfZnJvbV9jbGllbnQgSVMgTk9UIE5VTEwgVEhFTiBDT0FMRVNDRShjbGllbnRfdS5maXJzdG5hbWUgfHwgJyAnIHx8IGNsaWVudF91Lmxhc3RuYW1lLCAnVW5rbm93biBDbGllbnQnKVxuICAgICAgICAgICAgRUxTRSBDT0FMRVNDRSh1c2VyX3UuZmlyc3RuYW1lIHx8ICcgJyB8fCB1c2VyX3UubGFzdG5hbWUsICdVbmtub3duIFVzZXInKVxuICAgICAgICAgIEVORCBhcyB1c2VyX25hbWUsXG4gICAgICAgICAgQ09BTEVTQ0UoYi5idXNpbmVzc25hbWUsICdVbmtub3duIEJ1c2luZXNzJykgYXMgYnVzaW5lc3NfbmFtZSxcbiAgICAgICAgICBiLnBsYWNlaWQsXG4gICAgICAgICAgYy5tZXNzYWdlX2NhdGVnb3J5X2lkXG4gICAgICAgIEZST00gY2xpZW50X3VzZXJfY29tbXVuaWNhdGlvbnMgY1xuICAgICAgICBMRUZUIEpPSU4gdXNlcnMgY2xpZW50X3UgT04gYy5jbGllbnRfaWQgPSBjbGllbnRfdS5pZFxuICAgICAgICBMRUZUIEpPSU4gdXNlcnMgdXNlcl91IE9OIGMudXNlcl9pZCA9IHVzZXJfdS5pZFxuICAgICAgICBMRUZUIEpPSU4gYnVzaW5lc3NlcyBiIE9OIGMuYnVzaW5lc3NfaWQgPSBiLmlkXG4gICAgICAgIFdIRVJFICgkMTo6aW50IElTIE5VTEwgT1IgQ09BTEVTQ0UoYy5tb2RlcmF0aW9uX3N0YXR1c19pZCwgMSkgPSAkMSlcbiAgICAgICAgQU5EICgkMjo6dGV4dCA9ICcnIE9SIGMubWVzc2FnZV9mcm9tX2NsaWVudCBJTElLRSAkMiBPUiBjLm1lc3NhZ2VfZnJvbV91c2VyIElMSUtFICQyKVxuICAgICAgICBPUkRFUiBCWSBjLmNyZWF0ZWRfYXQgREVTQ1xuICAgICAgICBMSU1JVCAkMyBPRkZTRVQgJDRcbiAgICAgIGBcblxuICAgICAgY29uc3Qgc2VhcmNoUGF0dGVybiA9IHNlYXJjaCA/IGAlJHtzZWFyY2h9JWAgOiBcIlwiXG4gICAgICBjb25zdCBjb21tUmVzdWx0ID0gYXdhaXQgZ2dEQi5xdWVyeShjb21tUXVlcnksIFtzdGF0dXNJZCwgc2VhcmNoUGF0dGVybiwgbGltaXQsIG9mZnNldF0pXG4gICAgICBpdGVtcyA9IGl0ZW1zLmNvbmNhdChjb21tUmVzdWx0LnJvd3MpXG4gICAgfVxuXG4gICAgLy8gU29ydCBhbGwgaXRlbXMgYnkgY3JlYXRlZF9hdFxuICAgIGl0ZW1zLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuY3JlYXRlZF9hdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5jcmVhdGVkX2F0KS5nZXRUaW1lKCkpXG5cbiAgICAvLyBBZGQgc3RhdHVzIG5hbWVzXG4gICAgY29uc3Qgc3RhdHVzTmFtZXM6IHsgW2tleTogbnVtYmVyXTogc3RyaW5nIH0gPSB7XG4gICAgICAxOiBcInBlbmRpbmdcIixcbiAgICAgIDI6IFwiYXBwcm92ZWRcIixcbiAgICAgIDM6IFwiZmxhZ2dlZFwiLFxuICAgICAgNDogXCJkZWxldGVkXCIsXG4gICAgICA1OiBcInJlamVjdGVkXCIsXG4gICAgfVxuXG4gICAgaXRlbXMgPSBpdGVtcy5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAuLi5pdGVtLFxuICAgICAgbW9kZXJhdGlvbl9zdGF0dXM6IHN0YXR1c05hbWVzW2l0ZW0ubW9kZXJhdGlvbl9zdGF0dXNfaWRdIHx8IFwicGVuZGluZ1wiLFxuICAgIH0pKVxuXG4gICAgLy8gR2V0IHRvdGFsIGNvdW50IGZvciBwYWdpbmF0aW9uXG4gICAgbGV0IHRvdGFsQ291bnQgPSAwXG4gICAgaWYgKGNvbnRlbnRUeXBlID09PSBcImFsbFwiKSB7XG4gICAgICBjb25zdCBjb3VudFF1ZXJpZXMgPSBbXG4gICAgICAgIGBTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSBpbWFnZVVSTHMgV0hFUkUgKCQxOjppbnQgSVMgTlVMTCBPUiBDT0FMRVNDRShtb2RlcmF0aW9uX3N0YXR1c19pZCwgMSkgPSAkMSlgLFxuICAgICAgICBgU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gY29uc3VtZXJSZXZpZXdzIFdIRVJFICgkMTo6aW50IElTIE5VTEwgT1IgQ09BTEVTQ0UobW9kZXJhdGlvbl9zdGF0dXNfaWQsIDEpID0gJDEpYCxcbiAgICAgICAgYFNFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIGFkcyBXSEVSRSAoJDE6OmludCBJUyBOVUxMIE9SIENPQUxFU0NFKG1vZGVyYXRpb25fc3RhdHVzX2lkLCAxKSA9ICQxKWAsXG4gICAgICAgIGBTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSBjbGllbnRfdXNlcl9jb21tdW5pY2F0aW9ucyBXSEVSRSAoJDE6OmludCBJUyBOVUxMIE9SIENPQUxFU0NFKG1vZGVyYXRpb25fc3RhdHVzX2lkLCAxKSA9ICQxKWAsXG4gICAgICBdXG5cbiAgICAgIGZvciAoY29uc3QgcXVlcnkgb2YgY291bnRRdWVyaWVzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdnREIucXVlcnkocXVlcnksIFtzdGF0dXNJZF0pXG4gICAgICAgIHRvdGFsQ291bnQgKz0gTnVtYmVyLnBhcnNlSW50KHJlc3VsdC5yb3dzWzBdPy5jb3VudCB8fCBcIjBcIilcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHRhYmxlTmFtZSA9IFwiXCJcbiAgICAgIHN3aXRjaCAoY29udGVudFR5cGUpIHtcbiAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgICAgdGFibGVOYW1lID0gXCJpbWFnZVVSTHNcIlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgXCJyZXZpZXdcIjpcbiAgICAgICAgICB0YWJsZU5hbWUgPSBcImNvbnN1bWVyUmV2aWV3c1wiXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSBcImFkXCI6XG4gICAgICAgICAgdGFibGVOYW1lID0gXCJhZHNcIlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgXCJjb21tdW5pY2F0aW9uXCI6XG4gICAgICAgICAgdGFibGVOYW1lID0gXCJjbGllbnRfdXNlcl9jb21tdW5pY2F0aW9uc1wiXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhYmxlTmFtZSkge1xuICAgICAgICBjb25zdCBjb3VudFJlc3VsdCA9IGF3YWl0IGdnREIucXVlcnkoXG4gICAgICAgICAgYFNFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NICR7dGFibGVOYW1lfSBXSEVSRSAoJDE6OmludCBJUyBOVUxMIE9SIENPQUxFU0NFKG1vZGVyYXRpb25fc3RhdHVzX2lkLCAxKSA9ICQxKWAsXG4gICAgICAgICAgW3N0YXR1c0lkXSxcbiAgICAgICAgKVxuICAgICAgICB0b3RhbENvdW50ID0gTnVtYmVyLnBhcnNlSW50KGNvdW50UmVzdWx0LnJvd3NbMF0/LmNvdW50IHx8IFwiMFwiKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGDinIUgRm91bmQgJHtpdGVtcy5sZW5ndGh9IG1vZGVyYXRpb24gaXRlbXMgKCR7dG90YWxDb3VudH0gdG90YWwpYClcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogaXRlbXMsXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICB0b3RhbDogdG90YWxDb3VudCxcbiAgICAgICAgdG90YWxQYWdlczogTWF0aC5jZWlsKHRvdGFsQ291bnQgLyBsaW1pdCksXG4gICAgICB9LFxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBFcnJvciBmZXRjaGluZyBtb2RlcmF0aW9uIGl0ZW1zOlwiLCBlcnJvcilcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvciBvY2N1cnJlZFwiXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIG1vZGVyYXRpb24gaXRlbXNcIixcbiAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfSxcbiAgICApXG4gIH1cbn1cblxuLy8gUE9TVCAvYXBpL21vZGVyYXRpb24gLSBNb2RlcmF0ZSBjb250ZW50IGl0ZW1zIChpbmRpdmlkdWFsIG9yIGJ1bGspXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHtcbiAgICAgIGl0ZW1zLCAvLyBBcnJheSBvZiB7Y29udGVudF90eXBlLCBpZCwgYWN0aW9uLCBub3Rlc31cbiAgICAgIGFjdGlvbiwgLy8gYXBwcm92ZSwgcmVqZWN0LCBmbGFnLCBkZWxldGVcbiAgICAgIG5vdGVzLFxuICAgICAgbW9kZXJhdG9yX2lkLFxuICAgIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuXG4gICAgaWYgKCFpdGVtcyB8fCAhQXJyYXkuaXNBcnJheShpdGVtcykgfHwgaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiSXRlbXMgYXJyYXkgaXMgcmVxdWlyZWRcIiB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgaWYgKCFhY3Rpb24gfHwgIVtcImFwcHJvdmVcIiwgXCJyZWplY3RcIiwgXCJmbGFnXCIsIFwiZGVsZXRlXCJdLmluY2x1ZGVzKGFjdGlvbikpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVmFsaWQgYWN0aW9uIGlzIHJlcXVpcmVkIChhcHByb3ZlLCByZWplY3QsIGZsYWcsIGRlbGV0ZSlcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH0sXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCflKggTW9kZXJhdGluZyAke2l0ZW1zLmxlbmd0aH0gaXRlbXMgd2l0aCBhY3Rpb246ICR7YWN0aW9ufWApXG5cbiAgICBjb25zdCBzdGF0dXNNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7XG4gICAgICBhcHByb3ZlOiAyLFxuICAgICAgcmVqZWN0OiA1LFxuICAgICAgZmxhZzogMyxcbiAgICAgIGRlbGV0ZTogNCxcbiAgICB9XG5cbiAgICBjb25zdCBuZXdTdGF0dXNJZCA9IHN0YXR1c01hcFthY3Rpb25dXG4gICAgY29uc3QgbW9kZXJhdGVkQXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcblxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGdnREIuZ2V0Q2xpZW50KClcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJCRUdJTlwiKVxuXG4gICAgICBjb25zdCByZXN1bHRzID0gW11cblxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudF90eXBlLCBpZCB9ID0gaXRlbVxuICAgICAgICBjb25zdCBpdGVtTm90ZXMgPSBpdGVtLm5vdGVzIHx8IG5vdGVzIHx8IFwiXCJcblxuICAgICAgICBsZXQgdGFibGVOYW1lID0gXCJcIlxuICAgICAgICBzd2l0Y2ggKGNvbnRlbnRfdHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgICAgICAgdGFibGVOYW1lID0gXCJpbWFnZVVSTHNcIlxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlIFwicmV2aWV3XCI6XG4gICAgICAgICAgICB0YWJsZU5hbWUgPSBcImNvbnN1bWVyUmV2aWV3c1wiXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgXCJhZFwiOlxuICAgICAgICAgICAgdGFibGVOYW1lID0gXCJhZHNcIlxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlIFwiY29tbXVuaWNhdGlvblwiOlxuICAgICAgICAgICAgdGFibGVOYW1lID0gXCJjbGllbnRfdXNlcl9jb21tdW5pY2F0aW9uc1wiXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29udGVudCB0eXBlOiAke2NvbnRlbnRfdHlwZX1gKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG1vZGVyYXRpb24gc3RhdHVzXG4gICAgICAgIGNvbnN0IHVwZGF0ZVF1ZXJ5ID0gYFxuICAgICAgICAgIFVQREFURSAke3RhYmxlTmFtZX1cbiAgICAgICAgICBTRVQgXG4gICAgICAgICAgICBtb2RlcmF0aW9uX3N0YXR1c19pZCA9ICQxLFxuICAgICAgICAgICAgbW9kZXJhdGVkX2J5X2VtcGxveWVlX2lkID0gJDIsXG4gICAgICAgICAgICBtb2RlcmF0aW9uX25vdGVzID0gJDMsXG4gICAgICAgICAgICBtb2RlcmF0ZWRfYXQgPSAkNFxuICAgICAgICAgIFdIRVJFIGlkID0gJDVcbiAgICAgICAgICBSRVRVUk5JTkcgaWRcbiAgICAgICAgYFxuXG4gICAgICAgIGNvbnN0IHVwZGF0ZVJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeSh1cGRhdGVRdWVyeSwgW1xuICAgICAgICAgIG5ld1N0YXR1c0lkLFxuICAgICAgICAgIG1vZGVyYXRvcl9pZCB8fCBudWxsLFxuICAgICAgICAgIGl0ZW1Ob3RlcyxcbiAgICAgICAgICBtb2RlcmF0ZWRBdCxcbiAgICAgICAgICBpZCxcbiAgICAgICAgXSlcblxuICAgICAgICBpZiAodXBkYXRlUmVzdWx0LnJvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICBjb250ZW50X3R5cGUsXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgY29udGVudF90eXBlLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBcIkl0ZW0gbm90IGZvdW5kXCIsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJDT01NSVRcIilcblxuICAgICAgY29uc3Qgc3VjY2Vzc0NvdW50ID0gcmVzdWx0cy5maWx0ZXIoKHIpID0+IHIuc3VjY2VzcykubGVuZ3RoXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFN1Y2Nlc3NmdWxseSBtb2RlcmF0ZWQgJHtzdWNjZXNzQ291bnR9LyR7aXRlbXMubGVuZ3RofSBpdGVtc2ApXG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6IGBTdWNjZXNzZnVsbHkgJHthY3Rpb259ZWQgJHtzdWNjZXNzQ291bnR9IGl0ZW1zYCxcbiAgICAgICAgcmVzdWx0cyxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGF3YWl0IGNsaWVudC5xdWVyeShcIlJPTExCQUNLXCIpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH0gZmluYWxseSB7XG4gICAgICBjbGllbnQucmVsZWFzZSgpXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRXJyb3IgbW9kZXJhdGluZyBjb250ZW50OlwiLCBlcnJvcilcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvciBvY2N1cnJlZFwiXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIG1vZGVyYXRlIGNvbnRlbnRcIixcbiAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfSxcbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZ0RCIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImNvbnRlbnRUeXBlIiwiZ2V0Iiwic3RhdHVzIiwicGFnZSIsIk51bWJlciIsInBhcnNlSW50IiwibGltaXQiLCJzZWFyY2giLCJjb25zb2xlIiwibG9nIiwib2Zmc2V0Iiwic3RhdHVzTWFwIiwicGVuZGluZyIsImFwcHJvdmVkIiwiZmxhZ2dlZCIsImRlbGV0ZWQiLCJyZWplY3RlZCIsInN0YXR1c0lkIiwiaXRlbXMiLCJpbWFnZVF1ZXJ5Iiwic2VhcmNoUGF0dGVybiIsImltYWdlUmVzdWx0IiwicXVlcnkiLCJjb25jYXQiLCJyb3dzIiwicmV2aWV3UXVlcnkiLCJyZXZpZXdSZXN1bHQiLCJhZFF1ZXJ5IiwiYWRSZXN1bHQiLCJjb21tUXVlcnkiLCJjb21tUmVzdWx0Iiwic29ydCIsImEiLCJiIiwiRGF0ZSIsImNyZWF0ZWRfYXQiLCJnZXRUaW1lIiwic3RhdHVzTmFtZXMiLCJtYXAiLCJpdGVtIiwibW9kZXJhdGlvbl9zdGF0dXMiLCJtb2RlcmF0aW9uX3N0YXR1c19pZCIsInRvdGFsQ291bnQiLCJjb3VudFF1ZXJpZXMiLCJyZXN1bHQiLCJjb3VudCIsInRhYmxlTmFtZSIsImNvdW50UmVzdWx0IiwibGVuZ3RoIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwicGFnaW5hdGlvbiIsInRvdGFsIiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwiUE9TVCIsImFjdGlvbiIsIm5vdGVzIiwibW9kZXJhdG9yX2lkIiwiQXJyYXkiLCJpc0FycmF5IiwiaW5jbHVkZXMiLCJhcHByb3ZlIiwicmVqZWN0IiwiZmxhZyIsImRlbGV0ZSIsIm5ld1N0YXR1c0lkIiwibW9kZXJhdGVkQXQiLCJ0b0lTT1N0cmluZyIsImNsaWVudCIsImdldENsaWVudCIsInJlc3VsdHMiLCJjb250ZW50X3R5cGUiLCJpZCIsIml0ZW1Ob3RlcyIsInVwZGF0ZVF1ZXJ5IiwidXBkYXRlUmVzdWx0IiwicHVzaCIsInN1Y2Nlc3NDb3VudCIsImZpbHRlciIsInIiLCJyZWxlYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/moderation/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database-multi.ts":
/*!*******************************!*\
  !*** ./lib/database-multi.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeAllPools: () => (/* binding */ closeAllPools),\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase),\n/* harmony export */   corpDB: () => (/* binding */ corpDB),\n/* harmony export */   getClient: () => (/* binding */ getClient),\n/* harmony export */   ggDB: () => (/* binding */ ggDB),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   testConnection: () => (/* binding */ testConnection)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Determine connection method based on environment\nconst isProduction = \"development\" === \"production\";\nconst isGoogleCloud = process.env.GOOGLE_CLOUD_PROJECT || process.env.FIREBASE_PROJECT_ID;\n// Base connection configuration (without database name)\nconst getBaseConfig = ()=>{\n    if (isProduction && isGoogleCloud) {\n        // Unix Socket for production\n        return {\n            host: `/cloudsql/${process.env.FIREBASE_PROJECT_ID}:us-east4:gg-instance`,\n            user: process.env.DB_USER || \"postgres\",\n            password: process.env.DB_PASSWORD,\n            ssl: false,\n            max: 20,\n            idleTimeoutMillis: 30000,\n            connectionTimeoutMillis: 10000\n        };\n    } else {\n        // Public IP for local development\n        return {\n            host: process.env.DB_HOST || \"34.86.121.148\",\n            port: Number.parseInt(process.env.DB_PORT || \"5432\"),\n            user: process.env.DB_USER || \"postgres\",\n            password: process.env.DB_PASSWORD,\n            ssl: {\n                rejectUnauthorized: false\n            },\n            max: 20,\n            idleTimeoutMillis: 30000,\n            connectionTimeoutMillis: 10000\n        };\n    }\n};\n// Create multiple connection pools for different databases\nconst pools = {\n    corp: new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n        ...getBaseConfig(),\n        database: \"corp\"\n    }),\n    gg: new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n        ...getBaseConfig(),\n        database: \"gg\"\n    })\n};\n// Database-specific query functions\nconst corpDB = {\n    query: async (text, params)=>{\n        console.log(\"\\uD83C\\uDFE2 Executing query on 'corp' database\");\n        return await pools.corp.query(text, params);\n    },\n    getClient: async ()=>{\n        return await pools.corp.connect();\n    },\n    testConnection: async ()=>{\n        try {\n            const result = await pools.corp.query(\"SELECT current_database(), current_user, NOW()\");\n            console.log(\"‚úÖ 'corp' database connected:\", result.rows[0]);\n            return {\n                success: true,\n                data: result.rows[0]\n            };\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            console.error(\"‚ùå 'corp' database connection failed:\", errorMessage);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n};\nconst ggDB = {\n    query: async (text, params)=>{\n        console.log(\"\\uD83C\\uDFAE Executing query on 'gg' database\");\n        return await pools.gg.query(text, params);\n    },\n    getClient: async ()=>{\n        return await pools.gg.connect();\n    },\n    testConnection: async ()=>{\n        try {\n            const result = await pools.gg.query(\"SELECT current_database(), current_user, NOW()\");\n            console.log(\"‚úÖ 'gg' database connected:\", result.rows[0]);\n            return {\n                success: true,\n                data: result.rows[0]\n            };\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            console.error(\"‚ùå 'gg' database connection failed:\", errorMessage);\n            return {\n                success: false,\n                error: errorMessage\n            };\n        }\n    }\n};\n// Generic database connector\nconst connectToDatabase = (databaseName)=>{\n    const pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n        ...getBaseConfig(),\n        database: databaseName\n    });\n    return {\n        query: async (text, params)=>{\n            console.log(`üîç Executing query on '${databaseName}' database`);\n            return await pool.query(text, params);\n        },\n        getClient: async ()=>{\n            return await pool.connect();\n        },\n        testConnection: async ()=>{\n            try {\n                const result = await pool.query(\"SELECT current_database(), current_user, NOW()\");\n                console.log(`‚úÖ '${databaseName}' database connected:`, result.rows[0]);\n                return {\n                    success: true,\n                    data: result.rows[0]\n                };\n            } catch (error) {\n                const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n                console.error(`‚ùå '${databaseName}' database connection failed:`, errorMessage);\n                return {\n                    success: false,\n                    error: errorMessage\n                };\n            }\n        },\n        close: async ()=>{\n            await pool.end();\n            console.log(`üîí '${databaseName}' database pool closed`);\n        }\n    };\n};\n// Close all pools\nconst closeAllPools = async ()=>{\n    await Promise.all([\n        pools.corp.end(),\n        pools.gg.end()\n    ]);\n    console.log(\"\\uD83D\\uDD12 All database pools closed\");\n};\n// Export the original functions for backward compatibility\nconst query = corpDB.query;\nconst getClient = corpDB.getClient;\nconst testConnection = corpDB.testConnection;\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1ELEtBQUtFLEdBQUc7WUFDZGxCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRWMsYUFBYSxzQkFBc0IsQ0FBQztRQUN6RDtJQUNGO0FBQ0YsRUFBQztBQUVELGtCQUFrQjtBQUNYLE1BQU1JLGdCQUFnQjtJQUMzQixNQUFNQyxRQUFRQyxHQUFHLENBQUM7UUFBQzdCLE1BQU1DLElBQUksQ0FBQ3lCLEdBQUc7UUFBSTFCLE1BQU1HLEVBQUUsQ0FBQ3VCLEdBQUc7S0FBRztJQUNwRGxCLFFBQVFDLEdBQUcsQ0FBQztBQUNkLEVBQUM7QUFFRCwyREFBMkQ7QUFDcEQsTUFBTUosUUFBUUQsT0FBT0MsS0FBSztBQUMxQixNQUFNSyxZQUFZTixPQUFPTSxTQUFTO0FBQ2xDLE1BQU1FLGlCQUFpQlIsT0FBT1EsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9saWIvZGF0YWJhc2UtbXVsdGkudHM/YjhjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb29sLCB0eXBlIFBvb2xDbGllbnQgfSBmcm9tIFwicGdcIlxuXG4vLyBEZXRlcm1pbmUgY29ubmVjdGlvbiBtZXRob2QgYmFzZWQgb24gZW52aXJvbm1lbnRcbmNvbnN0IGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIlxuY29uc3QgaXNHb29nbGVDbG91ZCA9IHByb2Nlc3MuZW52LkdPT0dMRV9DTE9VRF9QUk9KRUNUIHx8IHByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSURcblxuLy8gQmFzZSBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gKHdpdGhvdXQgZGF0YWJhc2UgbmFtZSlcbmNvbnN0IGdldEJhc2VDb25maWcgPSAoKSA9PiB7XG4gIGlmIChpc1Byb2R1Y3Rpb24gJiYgaXNHb29nbGVDbG91ZCkge1xuICAgIC8vIFVuaXggU29ja2V0IGZvciBwcm9kdWN0aW9uXG4gICAgcmV0dXJuIHtcbiAgICAgIGhvc3Q6IGAvY2xvdWRzcWwvJHtwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lEfTp1cy1lYXN0NDpnZy1pbnN0YW5jZWAsXG4gICAgICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSIHx8IFwicG9zdGdyZXNcIixcbiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcbiAgICAgIHNzbDogZmFsc2UsXG4gICAgICBtYXg6IDIwLFxuICAgICAgaWRsZVRpbWVvdXRNaWxsaXM6IDMwMDAwLFxuICAgICAgY29ubmVjdGlvblRpbWVvdXRNaWxsaXM6IDEwMDAwLFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBQdWJsaWMgSVAgZm9yIGxvY2FsIGRldmVsb3BtZW50XG4gICAgcmV0dXJuIHtcbiAgICAgIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QgfHwgXCIzNC44Ni4xMjEuMTQ4XCIsXG4gICAgICBwb3J0OiBOdW1iZXIucGFyc2VJbnQocHJvY2Vzcy5lbnYuREJfUE9SVCB8fCBcIjU0MzJcIiksXG4gICAgICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSIHx8IFwicG9zdGdyZXNcIixcbiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcbiAgICAgIHNzbDogeyByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlIH0sXG4gICAgICBtYXg6IDIwLFxuICAgICAgaWRsZVRpbWVvdXRNaWxsaXM6IDMwMDAwLFxuICAgICAgY29ubmVjdGlvblRpbWVvdXRNaWxsaXM6IDEwMDAwLFxuICAgIH1cbiAgfVxufVxuXG4vLyBDcmVhdGUgbXVsdGlwbGUgY29ubmVjdGlvbiBwb29scyBmb3IgZGlmZmVyZW50IGRhdGFiYXNlc1xuY29uc3QgcG9vbHMgPSB7XG4gIGNvcnA6IG5ldyBQb29sKHsgLi4uZ2V0QmFzZUNvbmZpZygpLCBkYXRhYmFzZTogXCJjb3JwXCIgfSksXG4gIGdnOiBuZXcgUG9vbCh7IC4uLmdldEJhc2VDb25maWcoKSwgZGF0YWJhc2U6IFwiZ2dcIiB9KSxcbiAgLy8gQWRkIG1vcmUgZGF0YWJhc2VzIGFzIG5lZWRlZFxuICAvLyBhbmFseXRpY3M6IG5ldyBQb29sKHsgLi4uZ2V0QmFzZUNvbmZpZygpLCBkYXRhYmFzZTogXCJhbmFseXRpY3NcIiB9KSxcbn1cblxuLy8gRGF0YWJhc2Utc3BlY2lmaWMgcXVlcnkgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgY29ycERCID0ge1xuICBxdWVyeTogYXN5bmMgKHRleHQ6IHN0cmluZywgcGFyYW1zPzogYW55W10pID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIvCfj6IgRXhlY3V0aW5nIHF1ZXJ5IG9uICdjb3JwJyBkYXRhYmFzZVwiKVxuICAgIHJldHVybiBhd2FpdCBwb29scy5jb3JwLnF1ZXJ5KHRleHQsIHBhcmFtcylcbiAgfSxcbiAgZ2V0Q2xpZW50OiBhc3luYyAoKTogUHJvbWlzZTxQb29sQ2xpZW50PiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHBvb2xzLmNvcnAuY29ubmVjdCgpXG4gIH0sXG4gIHRlc3RDb25uZWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2xzLmNvcnAucXVlcnkoXCJTRUxFQ1QgY3VycmVudF9kYXRhYmFzZSgpLCBjdXJyZW50X3VzZXIsIE5PVygpXCIpXG4gICAgICBjb25zb2xlLmxvZyhcIuKchSAnY29ycCcgZGF0YWJhc2UgY29ubmVjdGVkOlwiLCByZXN1bHQucm93c1swXSlcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC5yb3dzWzBdIH1cbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIlxuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCAnY29ycCcgZGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6XCIsIGVycm9yTWVzc2FnZSlcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3JNZXNzYWdlIH1cbiAgICB9XG4gIH0sXG59XG5cbmV4cG9ydCBjb25zdCBnZ0RCID0ge1xuICBxdWVyeTogYXN5bmMgKHRleHQ6IHN0cmluZywgcGFyYW1zPzogYW55W10pID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIvCfjq4gRXhlY3V0aW5nIHF1ZXJ5IG9uICdnZycgZGF0YWJhc2VcIilcbiAgICByZXR1cm4gYXdhaXQgcG9vbHMuZ2cucXVlcnkodGV4dCwgcGFyYW1zKVxuICB9LFxuICBnZXRDbGllbnQ6IGFzeW5jICgpOiBQcm9taXNlPFBvb2xDbGllbnQ+ID0+IHtcbiAgICByZXR1cm4gYXdhaXQgcG9vbHMuZ2cuY29ubmVjdCgpXG4gIH0sXG4gIHRlc3RDb25uZWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2xzLmdnLnF1ZXJ5KFwiU0VMRUNUIGN1cnJlbnRfZGF0YWJhc2UoKSwgY3VycmVudF91c2VyLCBOT1coKVwiKVxuICAgICAgY29uc29sZS5sb2coXCLinIUgJ2dnJyBkYXRhYmFzZSBjb25uZWN0ZWQ6XCIsIHJlc3VsdC5yb3dzWzBdKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnJvd3NbMF0gfVxuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiXG4gICAgICBjb25zb2xlLmVycm9yKFwi4p2MICdnZycgZGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6XCIsIGVycm9yTWVzc2FnZSlcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3JNZXNzYWdlIH1cbiAgICB9XG4gIH0sXG59XG5cbi8vIEdlbmVyaWMgZGF0YWJhc2UgY29ubmVjdG9yXG5leHBvcnQgY29uc3QgY29ubmVjdFRvRGF0YWJhc2UgPSAoZGF0YWJhc2VOYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcG9vbCA9IG5ldyBQb29sKHsgLi4uZ2V0QmFzZUNvbmZpZygpLCBkYXRhYmFzZTogZGF0YWJhc2VOYW1lIH0pXG5cbiAgcmV0dXJuIHtcbiAgICBxdWVyeTogYXN5bmMgKHRleHQ6IHN0cmluZywgcGFyYW1zPzogYW55W10pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEV4ZWN1dGluZyBxdWVyeSBvbiAnJHtkYXRhYmFzZU5hbWV9JyBkYXRhYmFzZWApXG4gICAgICByZXR1cm4gYXdhaXQgcG9vbC5xdWVyeSh0ZXh0LCBwYXJhbXMpXG4gICAgfSxcbiAgICBnZXRDbGllbnQ6IGFzeW5jICgpOiBQcm9taXNlPFBvb2xDbGllbnQ+ID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBwb29sLmNvbm5lY3QoKVxuICAgIH0sXG4gICAgdGVzdENvbm5lY3Rpb246IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucXVlcnkoXCJTRUxFQ1QgY3VycmVudF9kYXRhYmFzZSgpLCBjdXJyZW50X3VzZXIsIE5PVygpXCIpXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgJyR7ZGF0YWJhc2VOYW1lfScgZGF0YWJhc2UgY29ubmVjdGVkOmAsIHJlc3VsdC5yb3dzWzBdKVxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQucm93c1swXSB9XG4gICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCAnJHtkYXRhYmFzZU5hbWV9JyBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDpgLCBlcnJvck1lc3NhZ2UpXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3JNZXNzYWdlIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNsb3NlOiBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBwb29sLmVuZCgpXG4gICAgICBjb25zb2xlLmxvZyhg8J+UkiAnJHtkYXRhYmFzZU5hbWV9JyBkYXRhYmFzZSBwb29sIGNsb3NlZGApXG4gICAgfSxcbiAgfVxufVxuXG4vLyBDbG9zZSBhbGwgcG9vbHNcbmV4cG9ydCBjb25zdCBjbG9zZUFsbFBvb2xzID0gYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBQcm9taXNlLmFsbChbcG9vbHMuY29ycC5lbmQoKSwgcG9vbHMuZ2cuZW5kKCldKVxuICBjb25zb2xlLmxvZyhcIvCflJIgQWxsIGRhdGFiYXNlIHBvb2xzIGNsb3NlZFwiKVxufVxuXG4vLyBFeHBvcnQgdGhlIG9yaWdpbmFsIGZ1bmN0aW9ucyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuZXhwb3J0IGNvbnN0IHF1ZXJ5ID0gY29ycERCLnF1ZXJ5XG5leHBvcnQgY29uc3QgZ2V0Q2xpZW50ID0gY29ycERCLmdldENsaWVudFxuZXhwb3J0IGNvbnN0IHRlc3RDb25uZWN0aW9uID0gY29ycERCLnRlc3RDb25uZWN0aW9uXG4iXSwibmFtZXMiOlsiUG9vbCIsImlzUHJvZHVjdGlvbiIsInByb2Nlc3MiLCJpc0dvb2dsZUNsb3VkIiwiZW52IiwiR09PR0xFX0NMT1VEX1BST0pFQ1QiLCJGSVJFQkFTRV9QUk9KRUNUX0lEIiwiZ2V0QmFzZUNvbmZpZyIsImhvc3QiLCJ1c2VyIiwiREJfVVNFUiIsInBhc3N3b3JkIiwiREJfUEFTU1dPUkQiLCJzc2wiLCJtYXgiLCJpZGxlVGltZW91dE1pbGxpcyIsImNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzIiwiREJfSE9TVCIsInBvcnQiLCJOdW1iZXIiLCJwYXJzZUludCIsIkRCX1BPUlQiLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJwb29scyIsImNvcnAiLCJkYXRhYmFzZSIsImdnIiwiY29ycERCIiwicXVlcnkiLCJ0ZXh0IiwicGFyYW1zIiwiY29uc29sZSIsImxvZyIsImdldENsaWVudCIsImNvbm5lY3QiLCJ0ZXN0Q29ubmVjdGlvbiIsInJlc3VsdCIsInJvd3MiLCJzdWNjZXNzIiwiZGF0YSIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwiZ2dEQiIsImNvbm5lY3RUb0RhdGFiYXNlIiwiZGF0YWJhc2VOYW1lIiwicG9vbCIsImNsb3NlIiwiZW5kIiwiY2xvc2VBbGxQb29scyIsIlByb21pc2UiLCJhbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/database-multi.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmoderation%2Froute&page=%2Fapi%2Fmoderation%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmoderation%2Froute.ts&appDir=%2FUsers%2Fmiguelgiraldo%2FDEVSPACE%2Fdev_gladgrade_portal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmiguelgiraldo%2FDEVSPACE%2Fdev_gladgrade_portal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();