(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{130:function(e,s,t){Promise.resolve().then(t.bind(t,1720))},1720:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var r=t(7437),n=t(2265),l=t(5800),a=t(6070),d=t(8617),i=t(8906),c=t(2369),o=t(7404),u=t(724);function x(){let{user:e,role:s,loading:t,isFirebaseConfigured:x}=(0,l.a)(),[m,h]=(0,n.useState)(!1),[g,f]=(0,n.useState)(null);console.log("\uD83D\uDCCA Dashboard rendering:",{user:null==e?void 0:e.email,role:s,loading:t,isFirebaseConfigured:x}),(0,n.useEffect)(()=>{"client"===s&&e&&p()},[s,e]);let p=async()=>{try{var s;let t=await (null==e?void 0:e.getIdTokenResult()),r=null==t?void 0:null===(s=t.claims)||void 0===s?void 0:s.businessId;if(r){let e=await fetch("/api/clients/".concat(r));if(e.ok){let s=await e.json();s.success&&f(s.data)}}}catch(e){console.error("Failed to load business profile:",e)}};return t?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:["Welcome to GladGrade Portal","super_admin"===s&&(0,r.jsx)(d.Z,{className:"h-8 w-8 text-primary"}),"admin"===s&&(0,r.jsx)(i.Z,{className:"h-6 w-6 text-blue-600"}),("employee"===s||"moderator"===s)&&(0,r.jsx)(c.Z,{className:"h-6 w-6 text-muted-foreground"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Logged in as:"}),(0,r.jsx)("span",{className:"font-medium text-foreground",children:(null==e?void 0:e.email)||"Demo User"}),(0,r.jsx)("span",{className:"text-sm bg-primary/20 text-primary px-2 py-1 rounded capitalize",children:"super_admin"===s?"Super Admin":(null==s?void 0:s.replace("_"," "))||"User"})]}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"Monitor your business performance and customer satisfaction in real-time."})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),!1,(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,r.jsxs)(a.Zb,{className:"border-l-4 border-l-primary",children:[(0,r.jsxs)(a.Ol,{className:"pb-2",children:[(0,r.jsxs)(a.ll,{className:"text-lg flex items-center gap-2 text-foreground",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-primary rounded-full"}),"GCSG Score"]}),(0,r.jsx)(a.SZ,{children:"Your Global Customer Satisfaction Grade"})]}),(0,r.jsxs)(a.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-primary mb-2",children:"785"}),(0,r.jsx)("div",{className:"text-sm text-green-600 mb-3",children:"+15 points since last month"}),(0,r.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-primary h-2 rounded-full",style:{width:"78%"}})})]})]}),(0,r.jsxs)(a.Zb,{className:"border-l-4 border-l-blue-500",children:[(0,r.jsxs)(a.Ol,{className:"pb-2",children:[(0,r.jsxs)(a.ll,{className:"text-lg flex items-center gap-2 text-foreground",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),"Recent Reviews"]}),(0,r.jsx)(a.SZ,{children:"Latest customer feedback"})]}),(0,r.jsxs)(a.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"12"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-3",children:"New reviews this week"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(e=>(0,r.jsx)("div",{className:"h-4 w-4 ".concat(e<=4?"text-yellow-400":"text-muted"),children:"⭐"},e)),(0,r.jsx)("span",{className:"text-sm text-muted-foreground ml-2",children:"4.2 avg rating"})]})]})]}),(0,r.jsxs)(a.Zb,{className:"border-l-4 border-l-green-500",children:[(0,r.jsxs)(a.Ol,{className:"pb-2",children:[(0,r.jsxs)(a.ll,{className:"text-lg flex items-center gap-2 text-foreground",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),"AI Insights"]}),(0,r.jsx)(a.SZ,{children:"AI-generated business insights"})]}),(0,r.jsxs)(a.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"3"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-3",children:"New insights available"}),(0,r.jsx)("div",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:"Action Required"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsx)(a.ll,{className:"text-foreground",children:"Recent Activity"})}),(0,r.jsxs)(a.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-foreground",children:"New review received"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"2 minutes ago"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-foreground",children:"GCSG score updated"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"1 hour ago"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-primary rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-foreground",children:"New client onboarded"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"3 hours ago"})]})]})]})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsx)(a.ll,{className:"text-foreground",children:"Quick Actions"})}),(0,r.jsxs)(a.aY,{className:"space-y-3",children:["client"===s&&g&&(0,r.jsx)("button",{onClick:()=>h(!0),className:"w-full p-4 bg-primary/10 hover:bg-primary/20 border border-primary/20 rounded-lg transition-colors text-left",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-foreground",children:"Generate QR Code"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Create QR code for customer reviews"})]})]})}),(0,r.jsx)("button",{className:"w-full p-4 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg transition-colors text-left",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-5 w-5 text-blue-600",children:"\uD83D\uDCCA"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-foreground",children:"Analytics & Insights"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"View detailed performance reports"})]})]})}),(0,r.jsx)("button",{className:"w-full p-4 bg-green-50 hover:bg-green-100 dark:bg-green-900/20 dark:hover:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg transition-colors text-left",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-5 w-5 text-green-600",children:"\uD83E\uDD1D"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-foreground",children:"Find Partners"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connect with business partners"})]})]})}),(0,r.jsx)("button",{className:"w-full p-4 bg-muted/50 hover:bg-muted border border-border rounded-lg transition-colors text-left",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-5 w-5 text-foreground",children:"⚙️"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-foreground",children:"Settings"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage account and preferences"})]})]})})]})]})]}),g&&(0,r.jsx)(u.W,{isOpen:m,onClose:()=>h(!1),businessId:g.id,businessName:g.business_name,placeId:g.place_id,businessAddress:g.business_address})]})}},1671:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8867:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},8617:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},2735:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6362:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},1817:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9345:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7625:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},7404:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},8906:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[139,4358,6137,5605,1709,7005,1153,2584,231,724,2971,2117,1744],function(){return e(e.s=130)}),_N_E=e.O()}]);