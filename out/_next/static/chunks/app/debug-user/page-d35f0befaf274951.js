(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2394],{2146:function(e,r,n){Promise.resolve().then(n.bind(n,5743))},5743:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return a}});var s=n(7437),t=n(2265),l=n(6070),i=n(2869);function a(){let[e,r]=(0,t.useState)(null),[n,a]=(0,t.useState)(!1),[d,c]=(0,t.useState)(null),o=async()=>{a(!0),c(null);try{let e=await fetch("/api/debug/current-user"),n=await e.json();n.success?r(n.data):c(n.error||"Failed to fetch debug data")}catch(e){c("Network error occurred"),console.error("Debug fetch error:",e)}finally{a(!1)}};return((0,t.useEffect)(()=>{o()},[]),n)?(0,s.jsx)("div",{className:"container mx-auto p-6",children:(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"text-lg",children:"Loading debug data..."})})}):d?(0,s.jsx)("div",{className:"container mx-auto p-6",children:(0,s.jsx)(l.Zb,{className:"border-red-200 bg-red-50",children:(0,s.jsxs)(l.aY,{className:"p-4",children:[(0,s.jsxs)("p",{className:"text-red-600",children:["Error: ",d]}),(0,s.jsx)(i.z,{onClick:o,className:"mt-4",children:"Retry"})]})})}):e?(0,s.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"User & Employee Debug"}),(0,s.jsx)(i.z,{onClick:o,disabled:n,children:n?"Loading...":"Refresh Data"})]}),(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)(l.Ol,{children:(0,s.jsx)(l.ll,{children:"\uD83D\uDD0D Ada Fernandez Records"})}),(0,s.jsx)(l.aY,{children:e.ada_records.length>0?(0,s.jsx)("div",{className:"space-y-4",children:e.ada_records.map((e,r)=>(0,s.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",e.full_name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Department:"})," ",e.department_name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Role:"})," ",e.role]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Status:"})," ",e.status]})]})},r))}):(0,s.jsx)("p",{className:"text-yellow-600",children:"⚠️ No Ada records found in employees table"})})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)(l.Ol,{children:(0,s.jsxs)(l.ll,{children:["\uD83D\uDC65 All Employees (",e.total_employees,")"]})}),(0,s.jsx)(l.aY,{children:(0,s.jsx)("div",{className:"space-y-2",children:e.employees.map((e,r)=>(0,s.jsx)("div",{className:"p-3 bg-gray-50 rounded",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",e.full_name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Department:"})," ",e.department_name||"None"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Role:"})," ",e.role]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Status:"})," ",e.status]})]})},r))})})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)(l.Ol,{children:(0,s.jsx)(l.ll,{children:"\uD83D\uDCCB Recent Prospects & Assignments"})}),(0,s.jsx)(l.aY,{children:(0,s.jsx)("div",{className:"space-y-2",children:e.recent_prospects.map((e,r)=>(0,s.jsx)("div",{className:"p-3 bg-gray-50 rounded",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Business:"})," ",e.business_name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Assigned To:"})," ",e.salesperson_name||"Unassigned"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Status:"})," ",e.status]})]})},r))})})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)(l.Ol,{children:(0,s.jsx)(l.ll,{children:"\uD83C\uDFD7️ Database Schema Info"})}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Employee Name Column:"})," ",e.schema_info.employee_name_column]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Prospect Assignment Column:"})," ",e.schema_info.prospect_assignment_column]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Client Sales Rep Column:"})," ",e.schema_info.client_sales_rep_column]})]})})]})]})]}):(0,s.jsx)("div",{className:"container mx-auto p-6",children:(0,s.jsx)("div",{className:"text-center",children:"No data available"})})}},2869:function(e,r,n){"use strict";n.d(r,{z:function(){return c}});var s=n(7437),t=n(2265),l=n(8482),i=n(535),a=n(4508);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=t.forwardRef((e,r)=>{let{className:n,variant:t,size:i,asChild:c=!1,...o}=e,u=c?l.g7:"button";return(0,s.jsx)(u,{className:(0,a.cn)(d({variant:t,size:i,className:n})),ref:r,...o})});c.displayName="Button"},6070:function(e,r,n){"use strict";n.d(r,{Ol:function(){return a},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return d}});var s=n(7437),t=n(2265),l=n(4508);let i=t.forwardRef((e,r)=>{let{className:n,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...t})});i.displayName="Card";let a=t.forwardRef((e,r)=>{let{className:n,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",n),...t})});a.displayName="CardHeader";let d=t.forwardRef((e,r)=>{let{className:n,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",n),...t})});d.displayName="CardTitle";let c=t.forwardRef((e,r)=>{let{className:n,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",n),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,r)=>{let{className:n,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",n),...t})});o.displayName="CardContent";let u=t.forwardRef((e,r)=>{let{className:n,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",n),...t})});u.displayName="CardFooter"},4508:function(e,r,n){"use strict";n.d(r,{cn:function(){return l}});var s=n(1994),t=n(3335);function l(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,t.m6)((0,s.W)(r))}},8482:function(e,r,n){"use strict";n.d(r,{g7:function(){return i}});var s=n(2265);function t(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var l=n(7437),i=s.forwardRef((e,r)=>{let{children:n,...t}=e,i=s.Children.toArray(n),d=i.find(c);if(d){let e=d.props.children,n=i.map(r=>r!==d?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,l.jsx)(a,{...t,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,l.jsx)(a,{...t,ref:r,children:n})});i.displayName="Slot";var a=s.forwardRef((e,r)=>{let{children:n,...l}=e;if(s.isValidElement(n)){let e,i;let a=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref;return s.cloneElement(n,{...function(e,r){let n={...r};for(let s in r){let t=e[s],l=r[s];/^on[A-Z]/.test(s)?t&&l?n[s]=(...e)=>{l(...e),t(...e)}:t&&(n[s]=t):"style"===s?n[s]={...t,...l}:"className"===s&&(n[s]=[t,l].filter(Boolean).join(" "))}return{...e,...n}}(l,n.props),ref:r?function(...e){return r=>{let n=!1,s=e.map(e=>{let s=t(e,r);return n||"function"!=typeof s||(n=!0),s});if(n)return()=>{for(let r=0;r<s.length;r++){let n=s[r];"function"==typeof n?n():t(e[r],null)}}}}(r,a):a})}return s.Children.count(n)>1?s.Children.only(null):null});a.displayName="SlotClone";var d=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function c(e){return s.isValidElement(e)&&e.type===d}},535:function(e,r,n){"use strict";n.d(r,{j:function(){return i}});var s=n(1994);let t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=s.W,i=(e,r)=>n=>{var s;if((null==r?void 0:r.variants)==null)return l(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:i,defaultVariants:a}=r,d=Object.keys(i).map(e=>{let r=null==n?void 0:n[e],s=null==a?void 0:a[e];if(null===r)return null;let l=t(r)||t(s);return i[e][l]}),c=n&&Object.entries(n).reduce((e,r)=>{let[n,s]=r;return void 0===s||(e[n]=s),e},{});return l(e,d,null==r?void 0:null===(s=r.compoundVariants)||void 0===s?void 0:s.reduce((e,r)=>{let{class:n,className:s,...t}=r;return Object.entries(t).every(e=>{let[r,n]=e;return Array.isArray(n)?n.includes({...a,...c}[r]):({...a,...c})[r]===n})?[...e,n,s]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[6137,2971,2117,1744],function(){return e(e.s=2146)}),_N_E=e.O()}]);